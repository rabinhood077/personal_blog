{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-8 col-md-10 col-12">

    {% for post in posts %}
      <div class="post mb-5">

        <div class="date text-muted mb-2">
          {{ post.published_at }}
        </div>

        {% if post.featured_image %}
          <img
            src="{{ post.featured_image.url }}"
            alt="{{ post.title }}"
            class="img-fluid rounded mb-3"
          />
        {% endif %}

        <h2>
          <a
            href="{% url 'post-detail' post.pk %}"
            class="text-decoration-none fst-italic"
          >
            {{ post.title }}
          </a>
        </h2>

        <div class="date author text-muted mb-3">
          @{{ post.author.username }} |
          {{ post.category.name|title }}
          | Tags: {{ post.tag.all|join:", " }}
        </div>

        <p>
          {{ post.content|striptags|truncatechars:200 }}
          <a href="{% url 'post-detail' post.pk %}">View more</a>
        </p>

      </div>
    {% endfor %}

  </div>
</div>
{% endblock content %}
